pipeline{
      agent any
       stages
{
      stage ('scm checkout')
   {
       steps { 
	   git 'https://github.com/sandesh421/maven-project' 
         }
   }
        }
        {stage ('compile code')
      {
       steps
    {
     withMaven(jdk: 'localjdk', maven: 'localmaven') 
    {
    sh 'mvn compile'
    } 
   }
   stage ('test the code'){
 steps
    {
     withMaven(jdk: 'localjdk', maven: 'localmaven') {
    sh 'mvn test'
	}
 }
}
}
}
}
